"use strict";(self.webpackChunkdb_god=self.webpackChunkdb_god||[]).push([[774],{1612:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/image-2-c5d7f45572869c87fd9e993956ca88fc.png"},2974:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/image-3191370f46edd57f3a0107d6d32ba5dd.png"},4199:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"\u5f00\u59cb\u6d4b\u8bd5/appium\u521d\u4f53\u9a8c","title":"appium\u521d\u4f53\u9a8c","description":"\u4f7f\u7528python\u6765\u6a21\u62df\u6253\u5f00\u4e00\u4e2aapp\uff0c\u7136\u540e\u8fdb\u884c\u64cd\u4f5c\u3002","source":"@site/docs/01-\u5f00\u59cb\u6d4b\u8bd5/02-appium\u521d\u4f53\u9a8c.md","sourceDirName":"01-\u5f00\u59cb\u6d4b\u8bd5","slug":"/\u5f00\u59cb\u6d4b\u8bd5/appium\u521d\u4f53\u9a8c","permalink":"/autotest/docs/\u5f00\u59cb\u6d4b\u8bd5/appium\u521d\u4f53\u9a8c","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/01-\u5f00\u59cb\u6d4b\u8bd5/02-appium\u521d\u4f53\u9a8c.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"appium\u73af\u5883\u642d\u5efa","permalink":"/autotest/docs/\u5f00\u59cb\u6d4b\u8bd5/appium\u73af\u5883\u642d\u5efa"},"next":{"title":"java\u5f00\u53d1\u5b89\u5353app\u81ea\u52a8\u5316","permalink":"/autotest/docs/\u5f00\u59cb\u6d4b\u8bd5/java\u5f00\u53d1app\u81ea\u52a8\u5316"}}');var r=a(4848),i=a(8453);const d={},s="appium\u521d\u4f53\u9a8c",c={},l=[{value:"\u73af\u5883\u642d\u5efa",id:"\u73af\u5883\u642d\u5efa",level:2},{value:"\u51c6\u5907app",id:"\u51c6\u5907app",level:2},{value:"\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801",id:"\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801",level:2},{value:"\u6a21\u62df\u5b89\u5353\u8bbe\u5907",id:"\u6a21\u62df\u5b89\u5353\u8bbe\u5907",level:2},{value:"\u8c03\u8bd5\u4ee3\u7801",id:"\u8c03\u8bd5\u4ee3\u7801",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"appium\u521d\u4f53\u9a8c",children:"appium\u521d\u4f53\u9a8c"})}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528python\u6765\u6a21\u62df\u6253\u5f00\u4e00\u4e2aapp\uff0c\u7136\u540e\u8fdb\u884c\u64cd\u4f5c\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u73af\u5883\u642d\u5efa",children:"\u73af\u5883\u642d\u5efa"}),"\n",(0,r.jsx)(n.p,{children:"\u9700\u8981\u5148\u4e0b\u8f7dappium\u7684python\u5ba2\u6237\u7aef\uff0c\u7136\u540e\u518d\u542f\u52a8appium\u7684server\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"pip install appium-python-client\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"appium\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5230\u8fd9\u91cc\u521d\u59cb\u73af\u5883\u5c31\u51c6\u5907\u597d\u4e86\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u51c6\u5907app",children:"\u51c6\u5907app"}),"\n",(0,r.jsx)(n.p,{children:"\u5230apkure\u4e0a\u9762\u4e0b\u8f7d\u4e00\u4e2aqq\u97f3\u4e50\uff0c\u4fdd\u5b58\u5230\u672c\u5730\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e0b\u8f7d\u7684app\u540d\u4e3aQQMusic_14.2.0.8_APKPure.apk\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u51c6\u5907\u597dapp\u540e\uff0c\u9700\u8981\u83b7\u53d6\u5305\u7684\u540d\u5b57\u548cactivity\u3002appium\u662f\u901a\u8fc7\u5305\u540d\u548cactivity\u6765\u5b9a\u4f4dapp\u7684\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u4f7f\u7528aapt\u547d\u4ee4\u6765\u83b7\u53d6\u5305\u540d\u548cactivity\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"aapt dump badging QQMusic_14.2.0.8_APKPure.apk\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u5f97\u5230\u7684\u4e3b\u8981\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"package: name='com.tencent.qqmusic' versionCode='6158' versionName='14.2.0.8' platformBuildVersionName='12' platformBuildVersionCode='32' compileSdkVersion='32' compileSdkVersionCodename='12'\r\ninstall-location:'auto'\r\nsdkVersion:'23'\r\ntargetSdkVersion:'30'\r\n\r\napplication-label:'QQ\u97f3\u4e50'\r\napplication-label-zh:'QQ\u97f3\u4e50'\r\napplication-label-zh-CN:'QQ\u97f3\u4e50'\r\napplication-icon-120:'r/s/e.webp'\r\napplication-icon-160:'r/s/e.webp'\r\napplication-icon-240:'r/s/e.webp'\r\napplication-icon-320:'r/s/e.webp'\r\napplication-icon-480:'r/g/e.webp'\r\napplication-icon-640:'r/g/e.webp'\r\napplication-icon-65534:'r/s/e.webp'\r\napplication-icon-65535:'r/g/e.webp'\r\napplication: label='QQ\u97f3\u4e50' icon='r/s/e.webp'\r\nuses-library-not-required:'org.apache.http.legacy'\r\nlaunchable-activity: name='com.tencent.qqmusic.activity.AppStarterActivity'  label='' icon=''\r\nuses-library-not-required:'androidx.window.extensions'\r\nuses-library-not-required:'androidx.window.sidecar'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u4ece\u7ed3\u679c\u53ef\u4ee5\u770b\u5230\u5305\u540d\u4e3a",(0,r.jsx)(n.code,{children:"com.tencent.qqmusic"}),"\uff0cactivity\u4e3a",(0,r.jsx)(n.code,{children:"com.tencent.qqmusic.activity.AppStarterActivity"}),"\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801",children:"\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import unittest\r\nfrom appium import webdriver\r\nfrom appium.options.android import UiAutomator2Options\r\nfrom appium.webdriver.common.appiumby import AppiumBy\r\n\r\ncapabilities = dict(\r\n    platformName='Android',\r\n    automationName='uiautomator2',\r\n    deviceName='emulator-5554',\r\n    appPackage='com.tencent.qqmusic',\r\n    appActivity='com.tencent.qqmusic.activity.AppStarterActivity',\r\n    language='en',\r\n    locale='US'\r\n)\r\n\r\nappium_server_url = 'http://localhost:4723'\r\n\r\nclass TestAppium(unittest.TestCase):\r\n    def setUp(self) -> None:\r\n        self.driver = webdriver.Remote(appium_server_url, options=UiAutomator2Options().load_capabilities(capabilities))\r\n\r\n    def tearDown(self) -> None:\r\n        if self.driver:\r\n            self.driver.quit()\r\n\r\n    def test_find_battery(self) -> None:\r\n        return\r\n\r\nif __name__ == '__main__':\r\n    unittest.main()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6a21\u62df\u5b89\u5353\u8bbe\u5907",children:"\u6a21\u62df\u5b89\u5353\u8bbe\u5907"}),"\n",(0,r.jsx)(n.p,{children:"app\u9700\u8981\u5b89\u88c5\u5728\u5b89\u5353\u8bbe\u5907\u4e0a\u624d\u80fd\u5bf9\u5176\u8fdb\u884c\u6d4b\u8bd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u6a21\u62df\u5668\u6216\u8005\u771f\u673a\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u91cc\u7528Android studio\u6765\u521b\u5efa\u4e00\u4e2a\u6a21\u62df\u5668\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:a(2974).A+"",width:"965",height:"678"})}),"\n",(0,r.jsx)(n.p,{children:"\u542f\u52a8\u540e\u7684\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:a(4740).A+"",width:"1625",height:"1162"})}),"\n",(0,r.jsx)(n.p,{children:"\u7136\u540e\u4f7f\u7528adb\u547d\u4ee4\u6765\u8fde\u63a5\u6a21\u62df\u5668\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"PS C:\\Users\\growd> adb devices\r\nList of devices attached\r\nemulator-5554   device\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u8fde\u63a5\u6a21\u62df\u5668\u5e76\u4e0a\u4f20app\u5230\u6a21\u62df\u5668\u8fdb\u884c\u5b89\u88c5\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"PS E:\\apk> adb install QQMusic_14.2.0.8_APKPure.apk\r\nPerforming Streamed Install\r\nSuccess\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u6a21\u62df\u5668\u4e2d\u5df2\u7ecf\u5b89\u88c5\u4e86app\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:a(1612).A+"",width:"701",height:"654"})}),"\n",(0,r.jsx)(n.h2,{id:"\u8c03\u8bd5\u4ee3\u7801",children:"\u8c03\u8bd5\u4ee3\u7801"}),"\n",(0,r.jsx)(n.p,{children:"\u53d1\u73b0\u62a5\u9519\uff0c\u7ecf\u786e\u8ba4\u4f7f\u5c11\u4e86\u9a71\u52a8\uff0c\u9700\u8981\u8fdb\u884c\u5b89\u88c5\u3002"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:a(7833).A+"",width:"1476",height:"1151"})}),"\n",(0,r.jsx)(n.p,{children:"\u5404\u4e2a\u9a71\u52a8\u7684\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)("table",{"data-start":"137","data-end":"580",children:[(0,r.jsx)("thead",{"data-start":"137","data-end":"160",children:(0,r.jsxs)("tr",{"data-start":"137","data-end":"160",children:[(0,r.jsx)("th",{"data-start":"137","data-end":"142",children:"\u9a71\u52a8"}),(0,r.jsx)("th",{"data-start":"142","data-end":"147",children:"\u7528\u9014"}),(0,r.jsx)("th",{"data-start":"147","data-end":"154",children:"\u9002\u7528\u8303\u56f4"}),(0,r.jsx)("th",{"data-start":"154","data-end":"160",children:"\u5907\u6ce8"})]})}),(0,r.jsxs)("tbody",{"data-start":"194","data-end":"580",children:[(0,r.jsxs)("tr",{"data-start":"194","data-end":"301",children:[(0,r.jsx)("td",{children:(0,r.jsx)("code",{"data-start":"196","data-end":"210",children:"uiautomator2"})}),(0,r.jsxs)("td",{children:["\u4f7f\u7528 Android \u5b98\u65b9 ",(0,r.jsx)("code",{"data-start":"227","data-end":"241",children:"UiAutomator2"})," \u6846\u67b6\u8fdb\u884c UI \u81ea\u52a8\u5316\u6d4b\u8bd5"]}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{"data-start":"258","data-end":"277",children:"Android 5.0 \u53ca\u4ee5\u4e0a"})}),(0,r.jsxs)("td",{children:[(0,r.jsx)("strong",{"data-start":"280","data-end":"286",children:"\u63a8\u8350"}),"\uff0c\u5b98\u65b9\u7ef4\u62a4\uff0c\u652f\u6301\u5927\u90e8\u5206\u529f\u80fd"]})]}),(0,r.jsxs)("tr",{"data-start":"302","data-end":"385",children:[(0,r.jsx)("td",{children:(0,r.jsx)("code",{"data-start":"304","data-end":"314",children:"espresso"})}),(0,r.jsxs)("td",{children:["\u4f7f\u7528 Google ",(0,r.jsx)("code",{"data-start":"327","data-end":"337",children:"Espresso"})," \u6846\u67b6\u8fdb\u884c UI \u6d4b\u8bd5"]}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{"data-start":"351","data-end":"370",children:"Android 4.3 \u53ca\u4ee5\u4e0a"})}),(0,r.jsx)("td",{children:"\u66f4\u5feb\uff0c\u9002\u7528\u4e8e\u9ed1\u76d2\u6d4b\u8bd5"})]}),(0,r.jsxs)("tr",{"data-start":"386","data-end":"473",children:[(0,r.jsx)("td",{children:(0,r.jsx)("code",{"data-start":"388","data-end":"400",children:"selendroid"})}),(0,r.jsxs)("td",{children:["\u65e9\u671f\u57fa\u4e8e ",(0,r.jsx)("code",{"data-start":"408","data-end":"425",children:"Instrumentation"})," \u8fdb\u884c UI \u6d4b\u8bd5"]}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{"data-start":"437","data-end":"458",children:"Android 2.3 - 4.4"})}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{"data-start":"461","data-end":"471",children:"\u8fc7\u65f6\uff0c\u4e0d\u63a8\u8350"})})]}),(0,r.jsxs)("tr",{"data-start":"474","data-end":"580",children:[(0,r.jsxs)("td",{children:[(0,r.jsx)("code",{"data-start":"476","data-end":"481",children:"atd"})," (Android Test Distribution)"]}),(0,r.jsxs)("td",{children:["\u57fa\u4e8e ",(0,r.jsx)("code",{"data-start":"515","data-end":"535",children:"AndroidJUnitRunner"})," \u8fdb\u884c\u5206\u5e03\u5f0f\u6d4b\u8bd5"]}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{"data-start":"546","data-end":"565",children:"Android 5.0 \u53ca\u4ee5\u4e0a"})}),(0,r.jsx)("td",{children:"\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u5e76\u884c\u6d4b\u8bd5"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"PS E:\\apk> appium driver list\r\n\u2714 Listing available drivers\r\n- uiautomator2 [not installed]\r\n- xcuitest [not installed]\r\n- espresso [not installed]\r\n- mac2 [not installed]\r\n- windows [not installed]\r\n- safari [not installed]\r\n- gecko [not installed]\r\n- chromium [not installed]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u9a71\u52a8\u4e0b\u8f7d\u5b8c\u6210\u540e\u663e\u793a\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cmd",children:"PS E:\\apk> appium driver install uiautomator2\r\n\u2714 Checking if 'appium-uiautomator2-driver' is compatible\r\n\u2714 Installing 'uiautomator2'\r\n\u2139 Driver uiautomator2@4.1.0 successfully installed\r\n- automationName: UiAutomator2\r\n- platformNames: [\"Android\"]\r\nPS E:\\apk> appium driver list\r\n\u2714 Listing available drivers\r\n- uiautomator2@4.1.0 [installed (npm)]\r\n- xcuitest [not installed]\r\n- espresso [not installed]\r\n- mac2 [not installed]\r\n- windows [not installed]\r\n- safari [not installed]\r\n- gecko [not installed]\r\n- chromium [not installed]\r\nPS E:\\apk>\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u4e0b\u8f7d\u5b8c\u6210\u540e\u91cd\u542fappium\u3002"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},4740:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/image-1-efcd3d266d518d76805cff34a62c498e.png"},7833:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/image-3-7c15f3c3de72187807534f86a5892dc5.png"},8453:(e,n,a)=>{a.d(n,{R:()=>d,x:()=>s});var t=a(6540);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);